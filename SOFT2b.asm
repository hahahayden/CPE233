.CSEG
.ORG 0x10
IN R1, 0x30
MOV R2,R1
CMP R1,0x00
BREQ CHECK2
BRCC CHECK


CHECK: LSR R1
	   BRCS CHECK2
	   LSR R1
	   BRCS CHECK2
	   BRCC OUTPUTINV
	   BRN OUTPUT
CHECK2: CLC
		MOV R3,R2   ; use R2 to check but R3 outputs
		LSR R2
		BRCS ADDDIVBY2
		SUB R3,0x01
		MOV R2,R3
		BRN OUTPUT     
OUTPUTINV: EXOR R2,0xFF
		   BRN OUTPUT
ADDDIVBY2: ADD R3,0x11
		   LSR R3
		   MOV R2,R3
		   BRN OUTPUT
OUTPUT: OUT R2,0x42	
		BRN 0x03
